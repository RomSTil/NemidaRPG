
# CorePlugin Разработка

## Что уже сделано

1. **Создание CorePlugin**:
   - Структура плагина подготовлена и работает на базе `SQLite` для хранения данных.
   - Профиль игрока загружается при входе и сохраняется при выходе, используя асинхронную обработку.
   - При первом входе создается новый профиль в базе данных.

2. **SQLite база данных**:
   - Используется для хранения информации о игроках:
     - UUID
     - Уровень (level)
     - Опыт (exp)
     - Баланс (balance)
     - Время последнего входа (last_login)

3. **Async обработка**:
   - Все операции с базой данных (загрузка и сохранение профилей) выполняются асинхронно, без фризов на сервере.

4. **Команда /core reload**:
   - Перезагружает конфигурации плагина.

5. **SQLite таблица**:
   - Данные игроков записываются в таблицу `player_profiles`.

6. **Работа с кешем**:
   - Профили игроков хранятся в памяти до выхода, что улучшает производительность.

---

## Что нужно сделать

1. **Автосейв**:
   - Реализовать автосохранение данных профиля через фиксированный интервал (например, раз в 5 минут) для предотвращения потери данных при крашах.

2. **EconomyService**:
   - Реализовать функционал для работы с балансом игроков: 
     - Добавление денег
     - Списание денег
     - Проверка баланса

3. **Реализация RPG функционала**:
   - Добавить функциональность для уровней игроков и опыта.
   - Разработать систему перков/способностей.

4. **CoreAPI для других плагинов**:
   - Подготовить API для взаимодействия с другими плагинами, такими как индустриальные и RPG плагины.
   - Система должна позволить легко подключать новые модули и предоставлять доступ к данным игроков.

5. **Добавление команд**:
   - Возможность взаимодействовать с плагином через команды в игре:
     - /core profile <player> — для получения данных профиля
     - /core reload — для перезагрузки конфигов

6. **Тестирование**:
   - Провести тесты на стабильность, производительность и безопасность, чтобы убедиться в корректной работе плагина в различных условиях.

---

## Дальнейший план

1. Завершить с **экономикой** (работа с деньгами).
2. Реализовать систему **уровней и опыта** для игроков.
3. Подключить другие модули для **индустрии и RPG** через CoreAPI.
4. Добавить **интерфейсы для администраторов** для более удобного взаимодействия с плагином.
5. Проводить регулярные **сохранения** и **бэкапы**.
